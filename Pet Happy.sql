CREATE DATABASE PetHappy
GO

USE PetHappy
GO



CREATE TABLE CLIENTE (
    IDCLI INT IDENTITY(1,1) NOT NULL,
    NOMCLI varchar(80) NOT NULL,
    APECLI varchar(80) NOT NULL,
    EMACLI varchar(80) NOT NULL,
    DNICLI CHAR(8) NOT NULL,
    TELCLI CHAR(9) NOT NULL,
    REGCLI varchar(50) NOT NULL,
    PROCLI varchar(50) NOT NULL,
    DISCLI varchar(50) NOT NULL
	CONSTRAINT IDCLI_pk PRIMARY KEY (IDCLI)
)
GO



CREATE TABLE EMPLEADO (
    CODEMP CHAR(6) NOT NULL,
    NOMEMP varchar(80) NOT NULL,
    APEEMP varchar(80) NOT NULL,
    DNIEMP CHAR(8) NOT NULL,
    EMEMP varchar(80) NOT NULL,
    ESTEMP CHAR(1) NOT NULL,
    REGEMP varchar(50) NOT NULL ,
    PROEMP varchar(50) NOT NULL,
    DISEMP varchar(50) NOT NULL
	CONSTRAINT CODEMP_pk PRIMARY KEY (CODEMP)
)
GO



CREATE TABLE PRODUCTOS (
    CODPRO CHAR(6) NOT NULL ,
    NOMPRO varchar(500) NOT NULL,
    TIPPRO varchar(500) NOT NULL,
    PREPRO decimal(8,2) NOT NULL
	CONSTRAINT CODPRO_pk PRIMARY KEY (CODPRO)
)
GO


CREATE TABLE VENTA (
    IDVENT int IDENTITY(1,1)NOT NULL ,
    FECVENT DATETIME DEFAULT GETDATE() NOT NULL,
    IDCLI INT NOT NULL,
    CODEMP CHAR(6) NOT NULL
    CONSTRAINT IDVENT_pk PRIMARY KEY (IDVENT)
)
GO


CREATE TABLE VENTA_DETALLE (
    IDVENTDET int IDENTITY(1,1) ,
    CODPRO CHAR(6) ,
    CANVENTDET INT ,
    IDVENT int ,
    CONSTRAINT IDVENTDET_pk PRIMARY KEY (IDVENTDET)
)
	GO



	ALTER TABLE VENTA ADD
	CONSTRAINT  CLIENTE_FK FOREIGN KEY (IDCLI)
    REFERENCES CLIENTE (IDCLI)
	GO

	ALTER TABLE VENTA ADD
    CONSTRAINT EMPLEADO_FK FOREIGN KEY (CODEMP)
    REFERENCES EMPLEADO (CODEMP)
	GO


	ALTER TABLE VENTA_DETALLE ADD
	CONSTRAINT PRODUCTO_FK FOREIGN KEY (CODPRO)
    REFERENCES PRODUCTOS (CODPRO)
	GO

	ALTER TABLE VENTA_DETALLE ADD
    CONSTRAINT VENTA_FK FOREIGN KEY (IDVENT)
    REFERENCES VENTA (IDVENT)
	GO


SELECT * FROM EMPLEADO
GO
SELECT * FROM CLIENTE
GO
SELECT * FROM PRODUCTOS
GO
SELECT * FROM VENTA
GO
SELECT * FROM VENTA_DETALLE
GO


INSERT INTO CLIENTE
(NOMCLI,APECLI,EMACLI,DNICLI,TELCLI,REGCLI,PROCLI,DISCLI)
VALUES
('JUAN','CAMPOS PEREZ','juan.campos@vallegrande.edu.pe','40255133','986512478','PIURA','MORROPON','LA MATANZA'),
('SOFIA','SOLANO AVILA','sofia.solano@vallegrande.edu.pe','64978531','974815258','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('MARIA','ROSALES GUERRA','maria.rosales@vallegrande.edu.pe','15925874','986532147','PIURA','MORROPON','LA MATANZA'),
('MARCOS','ALARCON HERMOSA','marcos.alarcon@vallegrande.edu.pe','48781512','','PIURA','MORROPON','LA MATANZA'),
('MARTIN','SAMAN ARATA','martin.saman@vallegrande.edu.pe','84152631','','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('JOSE','QUISPE LUYO','jose.quispe@vallegrande.edu.pe','48161937','931764521','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('CLAUDIA','BARRAZA CARRASCO','cbarraza@gamil.com','78451596','','PIURA','MORROPON','LA MATANZA'),
('JHOHANA','BENDEZU ANCCASI','jbendezu@yahoo.com','74321564','','PIURA','MORROPON','LA MATANZA'),
('MARIO','ACOSTA PALOMINO','mario.acosta@outlook.com','15326499','93176521','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('JHOAN','CARDENAS ANCCASI','jbdezu@yahoo.com','74329864','','PIURA','MORROPON','LA MATANZA')
GO



INSERT INTO EMPLEADO
(CODEMP,NOMEMP,APEEMP,DNIEMP,EMEMP,ESTEMP,REGEMP,PROEMP,DISEMP)
VALUES
('E0001','ALBERTO','CORRALES LOZADA','15263798','alberto.corrales@yahoo.com','A','PIURA','MORROPON','LA MATANZA'),
('E0002','JUANA','SANCHEZ ORTEGA','97481525','juana.sanchez@outlook.com','I','PIURA','MORROPON','LA MATANZA'),
('E0003','JAVIER','NAKASONE VILLA','99523647','javier.nakasone@gmail.com','I','PIURA','MORROPON','LA MATANZA'),
('E0004','SONIA','HUAYTA','12657814','sonia.hauyta@gmail.com','I','PIURA','MORROPON','LA MATANZA'),
('E0005','CAMILO','CARRION AVILLA','12283647','Fabiano@gamil.com','I','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('E0006','ALBERTO','GARABITO AVILLA','12863647','Fabiano@gamil.com','A','PIURA','MORROPON','LA MATANZA'),
('E0007','CARMEN','CARRION CARRASCO','12963647','Fabiano@gamil.com','A','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('E0008','JONAS','SOTO NUÑEZ','12241647','Fabiano@gamil.com','A','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('E0009','LUIS','PEREZ AVILLA','12203647','Fabiano@gamil.com','I','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE'),
('E0010','ANGELO','CARRION PORRAS','12246647','Fabiano@gamil.com','I','HUANCAVELICA','ANGARAES','HUAYLLAY GRANDE')
GO





INSERT INTO PRODUCTOS
(CODPRO,NOMPRO,TIPPRO,PREPRO)
VALUES
('P0001','ROYAL CANIN MAXI PUPPY 15 KG','Alimento completo para perros cachorros. Desde los 2 hasta los 15 meses de edad (26-44 kg).','58.00'),
('P0002','ROYAL CANIN MEDIUM PUPPY 15 KG','Alimento completo y balanceado para cachorros de razas medianas (11 - 25 Kg). Hasta los 12 meses de edad.','58.00'),
('P0003','PACK PERRO PUPPY','PLATO ANTI ANSIEDAD , 1 SNAKC CHICKEN SUSHI 100 GR','34.00'),
('P0004','PACK DIECIOCHERO PERRO PUPPY',' BRIT CARE GF PUPPY SALMON 12 KG, SNACK SALMON NUGGETS 100 GR','65.00'),
('P0005','PACK DIECIOCHERO PERRO ADULTO','BRIT CARE GF ADULTO SALMON 12 KG, PLATO ANTI ANSIEDAD','62.00'),
('P0006','PACK DIECIOCHERO KITTEN','PRO PLAN KITTEN 7.5 KG, ARENA TOP CAT 4 KG','52.00'),
('P0007','CANNAVET RELAX','Gotas de aceite de semilla de cannabis, Lavanda y Manzanilla, para afecciones del sistema nervioso, para gatos, en formato de 30 ml.','14.00'),
('P0008','PACK MICHI','1 ROYAL CANIN KITTEN 1.5 KG, 1 ARENA TOP CAT 4 KG, 3 CHURUS, 1 VITAPET GATO','33.00'),
('P0009','PRO PLAN ADULTO CAT','Pro Plan Adulto Cat es un alimento completo y balanceado para gatos adultos de todas las razas.','26.00'),
('P0010','ROYAL CANIN HYPOALLERGENIC FELINO','Alimento dietético completo para gatos adultos, Proteína hidrolizadaContiene, proteína hidrolizada de bajo peso molecular altamente digestible y de muy baja alergenicidad, Barrera cutánea','21.00')
GO

INSERT INTO VENTA
(IDCLI,CODEMP)
VALUES
('1','E0001'),
('2','E0002'),
('3','E0003'),
('4','E0004'),
('5','E0005'),
('6','E0006'),
('7','E0007'),
('8','E0008'),
('9','E0009'),
('10','E0010')
GO

INSERT INTO VENTA_DETALLE
(CODPRO,CANVENTDET)
VALUES
('P0001','3'),
('P0002','5'),
('P0003','8'),
('P0004','9'),
('P0005','2'),
('P0006','3'),
('P0007','6'),
('P0008','8'),
('P0009','7'),
('P0010','4')
GO






